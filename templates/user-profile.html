{% extends 'adminlte/base.html' %}


{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="box">
                    <div class="box-header">
                        <h3>Profile</h3>
                    </div>
                    <div class="box-body" id="table-container">

                    </div>
                    <div class="box-footer">
                        <a href="/products" class="btn btn-link">Go to Products Page</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_foot %}
<script>
    fetch(`{% url 'user-profile' %}`).then(r => r.json()).then((r) => {
        document.getElementById('table-container') .innerHTML = `
            <table class="table table-striped">
                <tr>
                    <td>Name</td>
                    <td>${r.first_name}</td>
                    <td>${r.last_name}</td>
                </tr>
                <tr>
                    <td>Username</td>
                    <td colspan="2">${r.username}</td>
                </tr>
                <tr>
                    <td>Email</td>
                    <td colspan="2">${r.email}</td>
                </tr>
                <tr>
                    <td>Joined</td>
                    <td colspan="2">${r.date_joined}</td>
                </tr>
                <tr>
                    <td>Last Login</td>
                    <td colspan="2">${r.last_login}</td>
                </tr>
            </table>
        `


    })
</script>
{% endblock %}